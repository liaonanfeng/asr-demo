# asr-demo
背景
希望借助AI技术实现对录制课程视频的语音识别；

目标
1) 自动生成字幕；
2) 多线程识别长视频性能稳定；
3) 准确率达到90%以上；

3 系统架构图


4 页面效果


5 完整语音识别流程
操作步骤如下：

上传视频：点击'视频上传'按钮，后端会将视频文件上传到服务器上，此时该视频的状态为'待语音识别'；
语音识别：勾选视频前面的复选框，点击'批量语音识别'按钮，后端会调用BDSpeechSDK对勾选视频进行语音识别，此时视频的状态为'语音识别中'。注意，语音识别需要一段时间，一般来说，识别时长与视频时长接近。识别完成会将状态更新为'语音识别完成'或'语音识别失败'；
下载字幕文件：点击'字幕文件下载'按钮，会将语音识别生成的srt字幕文件下载到本地。后续用户可自行通过主流视频播放软件将字幕文件添加到视频里；
6 注意事项
语音识别长视频需要一段时间，一般来说，识别时长与视频时长接近；
百度官方限制了调用语音识别API的QPS，因此目前系统支持最多同时识别3个视频，超过3个视频需要在队列中排队；
目前支持识别主流的视频格式（avi、wmv、mp3等等）；
7 安装与部署
本系统采用的语音识别SDK为百度提供的Linux C++ SDK；
官方介绍：https://ai.baidu.com/docs#/ASR-Linux-SDK/top
备注：因官方SDK不能支撑本系统业务，故在原代码基础上作了修改，从而能够满足识别指定视频的需求，新增代码在sample文件夹的asrEwt目录下；
SDK安装步骤参照官方介绍。

Web应用为SpringBoot工程，因此部署方法很简单，只需要打jar包运行即可；
源码地址：http://git.mistong.com/mst-bigdata/asr-demo.git
启动命令：cd /root/web && nohup java -jar asr-demo-home.jar --spring.profiles.active=dev > /dev/null &
访问地址：http://10.0.11.205:8060/demo.html

8 识别效果与结论
目前，本系统实现了前两个目标，即能够自动生成字幕并在多线程识别长视频时性能稳定，但视频识别的准确率不佳，这是因为目前市面上提供的免费的语音识别算法模型基本都是通用型语音识别模型。
通用型语音识别模型对日常口语的识别率较好，但针对特定场景下的识别会遇到以下困难：
1、在垂直业务领域下通用语音识别模型准确率不满足需求，语音识别应用的场景专业词汇较集中，如医疗词汇、金融词汇、教育用语、交通地名、人名等，识别结果存在"同音不同字"的情况。例如"虹桥机场"识别为"红桥机场"；"债券"识别为"在劝"。
2、语音识别结果不准带来更高的后处理成本，并且语音识别模型针对性优化训练存在技术门槛、成本高、训练周期长。
针对以上两点问题，百度提供了语音自训练平台，可以通过自助训练语言模型的方式来提升业务场景下的识别准确率。平台支持上传业务音频和标注文本自动评估选择最优基础模型，上传业务场景文本语料即可在基础模型上零代码训练语言模型，还可以不断上传文本持续迭代优化训练模型，直至获得满意的模型效果。训练后模型支持自动发布上线，打造专属的模型。
综上所述，由于我们的课程视频包含了很多专业词汇，像数学、物理等学科更是包含很多公式方程，因此想通过市面上通用的语音识别模型来达到很好的识别效果并不现实。想要获得比较好的识别效果必定需要对模型进行针对化的训练，但成本也很高，因为需要对上千乃至上万个视频进行字幕标注本身就是一个极大的工程。

